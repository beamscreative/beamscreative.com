!function(){"use strict";const e={wrapperSelector:".smooth-wrapper",contentSelector:".smooth-content",breakpoint:991,smooth:1.2,effects:!0,normalizeScroll:!0};let t=null,o=!1,r=null,n={...e};const l=(c={})=>{n={...e,...c};const{breakpoint:i,wrapperSelector:s,contentSelector:a,smooth:d,effects:u,normalizeScroll:m}=n;if(!(window.gsap&&window.ScrollTrigger&&window.ScrollSmoother&&(gsap.registerPlugin(ScrollTrigger,ScrollSmoother),1)))return null;const h=window.innerWidth>i;if(h&&!t){if(!document.querySelector(a))return console.warn(`[BEAMS] ScrollSmoother: content element "${a}" not found, skipping init`),null;t=ScrollSmoother.create({wrapper:s,content:a,smooth:d,effects:u,normalizeScroll:m})}else!h&&t&&(t.kill(),t=null,(({wrapperSelector:e,contentSelector:t})=>{const o=document.querySelector(e),r=document.querySelector(t);o&&(o.style.transform=""),r&&(r.style.transform="")})({wrapperSelector:s,contentSelector:a}));return o||(o=!0,window.addEventListener("resize",()=>{clearTimeout(r),r=setTimeout(()=>l(n),150)})),t},c=()=>window.ScrollSmoother&&window.ScrollSmoother.get?window.ScrollSmoother.get():t,i=()=>{var e;if(window.innerWidth<=991)return;const t=document.querySelector(".nav-line");if(!t)return;const o=Array.from(document.querySelectorAll(".project-item"));if(!o.length)return;const r=Array.from(t.querySelectorAll(".nav-dot")),n=o.length;if(r.length<n)for(let c=r.length;c<n;c++){const o=(null==(e=r[0])?void 0:e.cloneNode(!0))||document.createElement("div");o.className="nav-dot",o.classList.remove("is-active"),t.appendChild(o)}else if(r.length>n)for(let c=r.length-1;c>=n;c--)r[c].remove();const l=Array.from(t.querySelectorAll(".nav-dot"));let i=!1,s=-1;const a=()=>{const e=window.scrollY,t=(()=>{const e=window.innerHeight,t=document.documentElement.scrollHeight-e,r=[];o.forEach((e,o)=>{const n=e.getBoundingClientRect(),l=window.scrollY+n.top,c=l-60;r.push({index:o,idealScroll:c,itemTop:l,reachable:c<=t})});let n=-1;for(let o=r.length-1;o>=0;o--)if(r[o].reachable){n=o;break}if(n<r.length-1&&n>=0){const e=r[n].idealScroll,o=r.length-n-1,l=(t-e)/(o+1);for(let t=n+1;t<r.length;t++){const o=t-n;r[t].adjustedScroll=e+l*o}}return r})();let r=0;for(let o=0;o<t.length;o++){const n=t[o];e>=(n.reachable?n.idealScroll:n.adjustedScroll??n.idealScroll)&&(r=o)}r!==s&&(s=r,l.forEach((e,t)=>{e.classList.toggle("is-active",t===r)})),i=!1};let d;l.forEach((e,t)=>{e.addEventListener("click",e=>{e.preventDefault();const r=o[t];if(!r)return;const n=c();if(n)n.scrollTo(r,!0,"top 60px");else{const e=r.getBoundingClientRect(),t=window.scrollY+e.top-60;window.scrollTo({top:t,behavior:"smooth"})}})}),window.addEventListener("scroll",()=>{i||(window.requestAnimationFrame(a),i=!0)},{passive:!0}),requestAnimationFrame(()=>{a()}),window.addEventListener("resize",()=>{clearTimeout(d),d=setTimeout(()=>{window.innerWidth<=991?l.forEach(e=>e.classList.remove("is-active")):a()},150)})};document.addEventListener("DOMContentLoaded",()=>{l(),(()=>{if(!window.matchMedia("(max-width: 767px)").matches)return;const e=document.querySelector(".project-list")||document.querySelector(".works-wrapper .project-list")||document.querySelector('.works-wrapper [role="list"]');if(!e)return;const t=Array.from(e.querySelectorAll(".project-item"));if(!t.length)return;let o=!1,r=null,n=null;const l=()=>{const o=e.scrollLeft+e.clientWidth/2;let r=t[0],n=1/0;return t.forEach(e=>{const t=e.offsetLeft+e.offsetWidth/2,l=Math.abs(t-o);l<n&&(r=e,n=l)}),r},c=e=>{t.forEach(t=>t.classList.toggle("is-active",t===e))},i=()=>{const t=l();if(!t)return;const o=t.offsetLeft-(e.clientWidth-t.offsetWidth)/2;e.scrollTo({left:Math.max(0,o),behavior:"smooth"}),c(t)};c(t[0]),e.addEventListener("scroll",()=>{n||(n=requestAnimationFrame(()=>{n=null;const e=l();e&&c(e)}),clearTimeout(r),r=setTimeout(()=>{o||i()},120))},{passive:!0}),e.addEventListener("touchstart",()=>{o=!0,clearTimeout(r)},{passive:!0}),e.addEventListener("touchend",()=>{o=!1,i()},{passive:!0}),e.addEventListener("touchcancel",()=>{o=!1,i()},{passive:!0}),window.addEventListener("resize",()=>{clearTimeout(r),r=setTimeout(i,150)})})(),(()=>{const e=Array.from(document.querySelectorAll('a[href*="#"]')).filter(e=>{const t=e.getAttribute("href");return t&&t.startsWith("#")&&t.length>1});e.length&&e.forEach(t=>{t.addEventListener("click",o=>{const r=t.getAttribute("href");if(!r||!r.startsWith("#"))return;const n=r.substring(1),l=document.getElementById(n);if(l){o.preventDefault(),e.forEach(e=>e.classList.remove("w--current")),t.classList.add("w--current");const r=c();r?r.scrollTo(l,!0):l.scrollIntoView({behavior:"smooth",block:"start"})}})})})(),i(),console.log("[BEAMS] Works page initialized")})}();
