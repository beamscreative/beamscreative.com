!function(){"use strict";document.addEventListener("DOMContentLoaded",()=>{(()=>{if(!window.matchMedia("(max-width: 767px)").matches)return;const t=document.querySelector(".project-list")||document.querySelector(".works-wrapper .project-list")||document.querySelector('.works-wrapper [role="list"]');if(!t)return;const e=Array.from(t.querySelectorAll(".project-item"));if(!e.length)return;let r=!1,o=null,n=null;const s=()=>{const r=t.scrollLeft+t.clientWidth/2;let o=e[0],n=1/0;return e.forEach(t=>{const e=t.offsetLeft+t.offsetWidth/2,s=Math.abs(e-r);s<n&&(o=t,n=s)}),o},i=t=>{e.forEach(e=>e.classList.toggle("is-active",e===t))},c=()=>{const e=s();if(!e)return;const r=e.offsetLeft-(t.clientWidth-e.offsetWidth)/2;t.scrollTo({left:Math.max(0,r),behavior:"smooth"}),i(e)};i(e[0]),t.addEventListener("scroll",()=>{n||(n=requestAnimationFrame(()=>{n=null;const t=s();t&&i(t)}),clearTimeout(o),o=setTimeout(()=>{r||c()},120))},{passive:!0}),t.addEventListener("touchstart",()=>{r=!0,clearTimeout(o)},{passive:!0}),t.addEventListener("touchend",()=>{r=!1,c()},{passive:!0}),t.addEventListener("touchcancel",()=>{r=!1,c()},{passive:!0}),window.addEventListener("resize",()=>{clearTimeout(o),o=setTimeout(c,150)})})(),(()=>{const t=Array.from(document.querySelectorAll('a[href*="#"]')).filter(t=>{const e=t.getAttribute("href");return e&&e.startsWith("#")&&e.length>1});t.length&&t.forEach(e=>{e.addEventListener("click",r=>{const o=e.getAttribute("href");if(!o||!o.startsWith("#"))return;const n=o.substring(1),s=document.getElementById(n);s&&(r.preventDefault(),t.forEach(t=>t.classList.remove("w--current")),e.classList.add("w--current"),s.scrollIntoView({behavior:"smooth",block:"start"}))})})})(),(()=>{const t=Array.from(document.querySelectorAll(".nav-line .nav-dot"));if(!t.length)return;const e=Array.from(document.querySelectorAll(".project-item, .works-item, [data-nav-section]"));if(!e.length)return;const r=Math.min(t.length,e.length),o=t.slice(0,r),n=e.slice(0,r);let s=!1;const i=()=>{const t=window.scrollY+window.innerHeight/2;let e=0;for(let r=0;r<n.length;r++){const o=n[r].getBoundingClientRect(),s=o.top+window.scrollY,i=s+o.height;if(t>=s&&t<i){e=r;break}}o.forEach((t,r)=>{r===e?t.classList.add("is-active"):t.classList.remove("is-active")}),s=!1};o.forEach((t,e)=>{t.addEventListener("click",t=>{t.preventDefault(),n[e]&&n[e].scrollIntoView({behavior:"smooth",block:"start"})})}),window.addEventListener("scroll",()=>{s||(window.requestAnimationFrame(i),s=!0)},{passive:!0}),i()})()})}();
