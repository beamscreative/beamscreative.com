!function(){"use strict";const e={wrapperSelector:".smooth-wrapper",contentSelector:".smooth-content",breakpoint:991,smooth:1.2,effects:!0,normalizeScroll:!0};let t=null,o=!1,r=null,l={...e};const n=(c={})=>{l={...e,...c};const{breakpoint:i,wrapperSelector:s,contentSelector:a,smooth:d,effects:m,normalizeScroll:w}=l;if(!(window.gsap&&window.ScrollTrigger&&window.ScrollSmoother&&(gsap.registerPlugin(ScrollTrigger,ScrollSmoother),1)))return null;const u=window.innerWidth>i;return u&&!t?t=ScrollSmoother.create({wrapper:s,content:a,smooth:d,effects:m,normalizeScroll:w}):!u&&t&&(t.kill(),t=null,(({wrapperSelector:e,contentSelector:t})=>{const o=document.querySelector(e),r=document.querySelector(t);o&&(o.style.transform=""),r&&(r.style.transform="")})({wrapperSelector:s,contentSelector:a})),o||(o=!0,window.addEventListener("resize",()=>{clearTimeout(r),r=setTimeout(()=>n(l),150)})),t},c=()=>{var e;if(window.innerWidth<=991)return;const o=document.querySelector(".nav-line");if(!o)return;const r=Array.from(document.querySelectorAll(".project-item"));if(!r.length)return;const l=Array.from(o.querySelectorAll(".nav-dot")),n=r.length;if(l.length<n)for(let t=l.length;t<n;t++){const t=(null==(e=l[0])?void 0:e.cloneNode(!0))||document.createElement("div");t.className="nav-dot",t.classList.remove("is-active"),o.appendChild(t)}else if(l.length>n)for(let t=l.length-1;t>=n;t--)l[t].remove();const c=Array.from(o.querySelectorAll(".nav-dot"));let i=!1,s=-1;const a=()=>{const e=window.scrollY,t=(()=>{const e=window.innerHeight,t=document.documentElement.scrollHeight-e,o=[];r.forEach((e,r)=>{const l=e.getBoundingClientRect(),n=window.scrollY+l.top,c=n-60;o.push({index:r,idealScroll:c,itemTop:n,reachable:c<=t})});let l=-1;for(let r=o.length-1;r>=0;r--)if(o[r].reachable){l=r;break}if(l<o.length-1&&l>=0){const e=o[l].idealScroll,r=o.length-l-1,n=(t-e)/(r+1);for(let t=l+1;t<o.length;t++){const r=t-l;o[t].adjustedScroll=e+n*r}}return o})();let o=0;for(let r=0;r<t.length;r++){const l=t[r];e>=(l.reachable?l.idealScroll:l.adjustedScroll??l.idealScroll)&&(o=r)}o!==s&&(s=o,c.forEach((e,t)=>{e.classList.toggle("is-active",t===o)})),i=!1};let d;c.forEach((e,o)=>{e.addEventListener("click",e=>{e.preventDefault();const l=r[o];if(!l)return;const n=window.ScrollSmoother&&window.ScrollSmoother.get?window.ScrollSmoother.get():t;if(n)n.scrollTo(l,!0,"top 60px");else{const e=l.getBoundingClientRect(),t=window.scrollY+e.top-60;window.scrollTo({top:t,behavior:"smooth"})}})}),window.addEventListener("scroll",()=>{i||(window.requestAnimationFrame(a),i=!0)},{passive:!0}),requestAnimationFrame(()=>a()),window.addEventListener("resize",()=>{clearTimeout(d),d=setTimeout(()=>{window.innerWidth<=991?c.forEach(e=>e.classList.remove("is-active")):a()},150)})};document.addEventListener("DOMContentLoaded",()=>{n(),c(),console.log("[BEAMS] Works Category page initialized")})}();
