!function(){"use strict";const e={wrapperSelector:".smooth-wrapper",contentSelector:".smooth-content",breakpoint:991,smooth:1.2,effects:!0,normalizeScroll:!0};let o=null,t=!1,r=null,n={...e};const l=(c={})=>{n={...e,...c};const{breakpoint:i,wrapperSelector:s,contentSelector:a,smooth:d,effects:m,normalizeScroll:u}=n;if(!(window.gsap&&window.ScrollTrigger&&window.ScrollSmoother&&(gsap.registerPlugin(ScrollTrigger,ScrollSmoother),1)))return null;const w=window.innerWidth>i;if(w&&!o){if(!document.querySelector(a))return console.warn(`[BEAMS] ScrollSmoother: content element "${a}" not found, skipping init`),null;o=ScrollSmoother.create({wrapper:s,content:a,smooth:d,effects:m,normalizeScroll:u})}else!w&&o&&(o.kill(),o=null,(({wrapperSelector:e,contentSelector:o})=>{const t=document.querySelector(e),r=document.querySelector(o);t&&(t.style.transform=""),r&&(r.style.transform="")})({wrapperSelector:s,contentSelector:a}));return t||(t=!0,window.addEventListener("resize",()=>{clearTimeout(r),r=setTimeout(()=>l(n),150)})),o},c=()=>{var e;if(window.innerWidth<=991)return;const t=document.querySelector(".nav-line");if(!t)return;const r=Array.from(document.querySelectorAll(".project-item"));if(!r.length)return;const n=Array.from(t.querySelectorAll(".nav-dot")),l=r.length;if(n.length<l)for(let o=n.length;o<l;o++){const o=(null==(e=n[0])?void 0:e.cloneNode(!0))||document.createElement("div");o.className="nav-dot",o.classList.remove("is-active"),t.appendChild(o)}else if(n.length>l)for(let o=n.length-1;o>=l;o--)n[o].remove();const c=Array.from(t.querySelectorAll(".nav-dot"));let i=!1,s=-1;const a=()=>{const e=window.scrollY,o=(()=>{const e=window.innerHeight,o=document.documentElement.scrollHeight-e,t=[];r.forEach((e,r)=>{const n=e.getBoundingClientRect(),l=window.scrollY+n.top,c=l-60;t.push({index:r,idealScroll:c,itemTop:l,reachable:c<=o})});let n=-1;for(let r=t.length-1;r>=0;r--)if(t[r].reachable){n=r;break}if(n<t.length-1&&n>=0){const e=t[n].idealScroll,r=t.length-n-1,l=(o-e)/(r+1);for(let o=n+1;o<t.length;o++){const r=o-n;t[o].adjustedScroll=e+l*r}}return t})();let t=0;for(let r=0;r<o.length;r++){const n=o[r];e>=(n.reachable?n.idealScroll:n.adjustedScroll??n.idealScroll)&&(t=r)}t!==s&&(s=t,c.forEach((e,o)=>{e.classList.toggle("is-active",o===t)})),i=!1};let d;c.forEach((e,t)=>{e.addEventListener("click",e=>{e.preventDefault();const n=r[t];if(!n)return;const l=window.ScrollSmoother&&window.ScrollSmoother.get?window.ScrollSmoother.get():o;if(l)l.scrollTo(n,!0,"top 60px");else{const e=n.getBoundingClientRect(),o=window.scrollY+e.top-60;window.scrollTo({top:o,behavior:"smooth"})}})}),window.addEventListener("scroll",()=>{i||(window.requestAnimationFrame(a),i=!0)},{passive:!0}),requestAnimationFrame(()=>a()),window.addEventListener("resize",()=>{clearTimeout(d),d=setTimeout(()=>{window.innerWidth<=991?c.forEach(e=>e.classList.remove("is-active")):a()},150)})};document.addEventListener("DOMContentLoaded",()=>{l(),c(),console.log("[BEAMS] Works Category page initialized")})}();
